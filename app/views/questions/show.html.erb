<h1 class="jimbo_header" id="<%=@question.id%>"><%= @question.query %> </h1>

<h3 class="jimbo_header"><%= @start_language.name %> to <%= @end_language.name %> Answers</h3>

<%= link_to "Add Answer", new_answer_path(question: @question), {:class => 'add_answer'} %>

<div class="answers">
  <%= render partial: 'shared/answer', collection: @answers %>
</div>

<script>
  $(document).ready(function(){
    var question_id = $("h1").attr("id");
    var players = {};

    $.get('/get_answers/', {question_id: question_id}, function(response) {
      console.log(response);
      response.forEach(function(answer){
          players[answer.id] = new Player({
              play_sel: "#play_answer_" + answer.id,
              view_sel: "#preview_answer_" + answer.id
          });
          console.log(answer.delta);
          players[answer.id].play(answer.delta);
      });  
    });
  });
</script>

